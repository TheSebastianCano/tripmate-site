<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="assets/style.css"><title>TripMate â€” Login</title>
</head><body>
<div class="nav"><div class="brand"><span class="dot"></span> TripMate</div><div class="badge">v3</div></div>
<div class="wrap">
  <div class="card">
    <h2 class="section-title">Welcome ðŸ‘‹</h2>
    <p class="muted">Sign in locally and paste your Google Maps API key (stored only on this device).</p>
    <div class="grid">
      <div class="col-6"><label class="label">Name</label><input id="name" class="input" placeholder="Your name"></div>
      <div class="col-6"><label class="label">Email (optional)</label><input id="email" class="input" placeholder="you@example.com"></div>
      <div class="col-12"><label class="label">Google Maps API key</label><input id="api" class="input" placeholder="AIza..."><div class="help">You can change this later in your browserâ€™s local storage.</div></div>
      <div class="col-12"><button id="save" class="btn primary block">Continue â†’ Destination</button></div>
    </div>
  </div>
</div>
<div id="toast" class="toast"></div>

<script>
const TM = {
  saveKey(k){localStorage.setItem('tripmate_key',k)},
  getKey(){return localStorage.getItem('tripmate_key')||''},
  saveUser(u){localStorage.setItem('tripmate_user', JSON.stringify(u))},
  getUser(){try{return JSON.parse(localStorage.getItem('tripmate_user')||'{}')}catch(e){return {}}},
  saveTrip(t){localStorage.setItem('tripmate_trip', JSON.stringify(t))},
  getTrip(){try{return JSON.parse(localStorage.getItem('tripmate_trip')||'{}')}catch(e){return {}}},
  savePrefs(p){localStorage.setItem('tripmate_prefs', JSON.stringify(p))},
  getPrefs(){try{return JSON.parse(localStorage.getItem('tripmate_prefs')||'{}')}catch(e){return {}}},
  saveChosen(c){localStorage.setItem('tripmate_chosen', JSON.stringify(c||[]))},
  getChosen(){try{return JSON.parse(localStorage.getItem('tripmate_chosen')||'[]')}catch(e){return []}},
  saveItin(i){localStorage.setItem('tripmate_itinerary', JSON.stringify(i||{}))},
  getItin(){try{return JSON.parse(localStorage.getItem('tripmate_itinerary')||'{}')}catch(e){return {}}},
};
function toast(msg){const t=document.getElementById('toast'); if(!t) return; t.textContent=msg; t.className='toast show'; setTimeout(()=>t.className='toast',1800);}
</script>

<script>
api.value = TM.getKey(); const u=TM.getUser(); if(u.name) name.value=u.name; if(u.email) email.value=u.email;
save.onclick = ()=>{ TM.saveUser({name:name.value.trim(),email:email.value.trim()}); if(api.value.trim()) TM.saveKey(api.value.trim()); location.href='destination.html'; };
</script>
</body></html>
